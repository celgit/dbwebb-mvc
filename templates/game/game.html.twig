{% extends "base.html.twig" %}

{% block title %}Draw{% endblock %}

{% block content %}
    <div class="textHandle">
        <fieldset>
            <legend>Player-hands</legend>
            <form method="POST">
                <p><Label>Press "Draw" to draw another card:</Label><br>
                    <input type="submit" name="draw" value="Draw">
                </p>

                {{ include('form/flash-message.html.twig') }}
            </form>

            <h1>Player:</h1>
            <p>
                {% if hands['player'] is not empty %}
                    {% for card in hands['player'].getHand %}
                        <div class="card {{ card.getColor() }}">
                            {{ card.getValue() }}
                            <span class="symbol">
                                {{ card.getSuite()|raw }}
                            </span>
                        </div>
                    {% endfor %}
                {% endif %}
            </p>
            <p> Value of hand:</p>
            {% if playerHandValue > 21 %}
                <div class="red">
                    {{ playerHandValue }} points - Loss!
            {% elseif playerHandValue >= 17 %}
                <div class="green">
                    {{ playerHandValue }} points - You can stop if you want
            {% else %}
                <div class="black">
                    {{ playerHandValue }} points
            {% endif %}
            </div>

                    <h1>Dealer:</h1>
            <p>
            {% if hands['dealer'] is not empty %}
                {% for card in hands['dealer'].getHand %}
                    <div class="card {{ card.getColor() }}">
                        {{ card.getValue() }}
                        <span class="symbol">
                    {{ card.getSuite()|raw }}
                </span>
                    </div>
                {% endfor %}
            {% endif %}
            </p>
            <p> Value of hand:</p>
            {% if dealerHandValue > 21 %}
            <div class="red">
                {{ dealerHandValue }} points - Loss!
                {% elseif dealerHandValue >= 17 %}
                <div class="green">
                    {{ dealerHandValue }} points - You can stop if you want
                    {% else %}
                    <div class="black">
                        {{ dealerHandValue }} points
                        {% endif %}
                    </div>

            <form method="POST">
                <p><Label>Press "Stop" to continue:</Label><br>
                    <input type="submit" name="done" value="Done">
                </p>
            </form>

            <p>Remaining cards:</p>
            {% for card in deck %}
                <div class="card {{ card.getColor() }}">
                    {{ card.getValue() }}
                    <span class="symbol">
                        {{ card.getSuite()|raw }}
                    </span>
                </div>
            {% endfor %}

            <form method="POST">
                <p><Label>To reset / start over press "Reset" below:</Label><br>
                    <input type="submit" name="reset" value="Reset">
                </p>
            </form>
        </fieldset>
    </div>
{% endblock %}